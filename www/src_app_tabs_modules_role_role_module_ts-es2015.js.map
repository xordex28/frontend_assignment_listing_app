{"version":3,"sources":["./src/app/tabs/modules/role/role-edit/role-edit.component.ts","./src/app/tabs/modules/role/role-edit/role-edit.component.html","./src/app/tabs/modules/role/role-routing.module.ts","./src/app/tabs/modules/role/role.module.ts","./src/app/tabs/modules/role/role.page.ts","./src/app/tabs/modules/role/role.page.html"],"names":[],"mappings":"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","file":"src_app_tabs_modules_role_role_module_ts-es2015.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { RoleService } from '../../../../services/role.service';\nimport { PermitApproved, Role } from '../../../../models/models';\nimport { ToastService } from '../../../../utils/services/toast.service';\nimport { LoadingService } from '../../../../utils/services/loading.service';\n\n\n@Component({\n  selector: 'app-role-edit',\n  templateUrl: './role-edit.component.html',\n  styleUrls: ['./role-edit.component.scss'],\n})\nexport class RoleEditComponent implements OnInit {\n\n  newRole: FormGroup;\n  id: string = '';\n  permits: PermitApproved[] = [];\n  loading: boolean = false;\n  constructor(private fb: FormBuilder,\n    private route: ActivatedRoute,\n    private roleService: RoleService,\n    private toastService: ToastService,\n    private loadingService: LoadingService,\n    private router: Router) {\n\n  }\n\n  validation_messages = {\n    'description': [\n      { type: 'required', message: 'Descripcion es requerida.' },\n    ],\n    'canApprove': [\n      { type: 'required', message: 'Aprobar es requerido.' },\n    ],\n    'active': [\n      { type: 'required', message: 'Activo es requerido.' },\n    ]\n  };\n  ngOnInit() {\n    this.newRole = this.fb.group({\n      description: ['', Validators.required],\n      canApprove: [false, Validators.required],\n      active: [true, Validators.required]\n    })\n    this.route.params.subscribe((params) => {\n      this.loading = true;\n      if ('id' in params) {\n        console.log(params);\n        this.id = params.id;\n        this.roleService.get(this.id).subscribe((currentRole: Role) => {\n          this.newRole.controls.description.setValue(currentRole.description);\n          this.newRole.controls.canApprove.setValue(currentRole.canApprove);\n          this.newRole.controls.active.setValue(currentRole.active);\n          this.roleService.getAssingPermits(this.id).subscribe((response: any) => {\n            console.log({ response });\n            if (response) {\n              this.permits = [...response];\n            }\n            console.log(this.permits);\n\n            this.loading = false;\n            this.loadingService.close();\n          });\n        });\n      }\n    });\n\n  }\n\n  async onSubmit() {\n    await this.loadingService.presentLoading('Guardando...')\n    const roleBody = this.newRole.value;\n    if (this.id) {\n      this.roleService.update(this.id, roleBody).subscribe((response: Role) => {\n        console.log({ response });\n        this.loadingService.close();\n        this.toastService.show('Guardado Correctamente', 'Se modifico correctamente', 'success');\n        this.router.navigateByUrl('/app/role');\n      }, (err) => {\n        console.log({ err });\n        this.loadingService.close();\n        this.toastService.show('Error', err, 'error');\n      });\n    } else {\n      this.roleService.add(roleBody).subscribe((response: Role) => {\n        console.log({ response });\n        this.loadingService.close();\n        this.toastService.show('Guardado Correctamente', 'Se ha guardado correctamente', 'success');\n        this.router.navigateByUrl('/app/role');\n\n      }, (err) => {\n        console.log({ err });\n        this.loadingService.close();\n        this.toastService.show('Error', err, 'error');\n      });\n    }\n  }\n\n  async onSubmitPermits(permits: PermitApproved[]) {\n    if (permits.length <= 0) {\n      this.toastService.show('Error', 'Tiene que seleccionar al menos un permiso', 'error');\n    } else {\n      await this.loadingService.presentLoading('Guardando Permisos');\n      try {\n        await this.roleService.assingPermits(this.id, permits).toPromise();\n        this.toastService.show('Guardado Correctamente', 'Se modifico correctamente', 'success');\n\n        this.loadingService.close();\n      } catch (error) {\n        this.toastService.show('Error', 'No se pudieron guardar los permisos', 'error');\n        this.loadingService.close();\n\n      }\n    }\n  }\n}\n","<app-header [titulo]=\"id?'Editar Rol':'Crear Rol'\" [backButton]=\"true\"></app-header>\n<ion-content class=\"ion-padding\">\n  <ion-card>\n    <form [formGroup]=\"newRole\">\n      <ion-grid>\n        <ion-row>\n          <ion-col size-xs=\"12\" size-md=\"6\" size-lg=\"4\" size-xl=\"8\" offset-xl=\"2\">\n            <ion-item>\n              <ion-label position=\"floating\">Descripcion:</ion-label>\n              <ion-input required formControlName=\"description\"></ion-input>\n            </ion-item>\n            <div class=\"error-container\">\n              <ng-container *ngFor=\"let validation of validation_messages.description\">\n                <div class=\"error-message\"\n                  *ngIf=\"newRole.get('description').hasError(validation.type) && (newRole.get('description').dirty || newRole.get('description').touched)\">\n                  <ion-icon name=\"information-circle-outline\"></ion-icon>\n                  <span>{{ validation.message }}</span>\n                </div>\n              </ng-container>\n            </div>\n          </ion-col>\n          <ion-col size-xs=\"12\" size-md=\"6\" size-lg=\"4\" size-xl=\"8\" offset-xl=\"2\">\n            <ion-item>\n              <ion-label>Aprobar</ion-label>\n              <ion-text color=\"danger\">*</ion-text>\n              <ion-checkbox formControlName=\"canApprove\" slot=\"start\"></ion-checkbox>\n            </ion-item>\n          </ion-col>\n          <ion-col size-xs=\"12\" size-md=\"6\" size-lg=\"4\" size-xl=\"8\" offset-xl=\"2\">\n            <ion-item>\n              <ion-label>Activo</ion-label>\n              <ion-text color=\"danger\">*</ion-text>\n              <ion-checkbox formControlName=\"active\" slot=\"start\"></ion-checkbox>\n            </ion-item>\n          </ion-col>\n        </ion-row>\n        <ion-row>\n          <ion-col size=\"12\">\n            <ion-button [disabled]=\"!newRole.valid\" (click)=\"onSubmit()\" expand=\"block\" fill=\"clear\" shape=\"round\">\n              Guardar\n            </ion-button>\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n    </form>\n  </ion-card>\n  <ion-card *ngIf=\"id!=='' && !loading && newRole.value.canApprove\">\n    <ion-row>\n      <ion-col size-xs=\"12\" size-md=\"6\" size-lg=\"4\" size-xl=\"8\" offset-xl=\"2\">\n        <b> Listado de Permisos de Aprobacion por Roll</b>\n      </ion-col>\n      <ion-col size-xs=\"12\" size-md=\"6\" size-lg=\"4\" size-xl=\"8\" offset-xl=\"2\">\n        <app-assing-tasks [id]=\"id\" [permits]=\"permits\" (newPermits)=\"onSubmitPermits($event)\"></app-assing-tasks>\n      </ion-col>\n    </ion-row>\n  </ion-card>\n</ion-content>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { RoleEditComponent } from './role-edit/role-edit.component';\n\nimport { RolePage } from './role.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    children: [\n      {\n        path: '',\n        component: RolePage\n      },\n      {\n        path: 'add',\n        component: RoleEditComponent\n      },\n      {\n        path: ':id',\n        component: RoleEditComponent\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RolePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RolePageRoutingModule } from './role-routing.module';\n\nimport { RolePage } from './role.page';\nimport { UtilsModule } from '../../../utils/utils.module';\nimport { RoleEditComponent } from './role-edit/role-edit.component';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatFormFieldModule } from '@angular/material/form-field';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RolePageRoutingModule,\n    UtilsModule,\n    MatInputModule,\n    MatFormFieldModule\n  ],\n  declarations: [RolePage, RoleEditComponent]\n})\nexport class RolePageModule { }\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { RoleService } from 'src/app/services/role.service';\nimport { DTColumn } from '../../../utils/generic-table/format/interface';\nimport { AlertService } from '../../../utils/services/alert.service';\nimport { ToastService } from '../../../utils/services/toast.service';\nimport { Role } from '../../../models/models';\nimport { GenericTableComponent } from '../../../utils/generic-table/generic-table.component';\n\n@Component({\n  selector: 'app-role',\n  templateUrl: './role.page.html',\n  styleUrls: ['./role.page.scss'],\n})\nexport class RolePage implements OnInit {\n  columns: DTColumn[] = [];\n  @ViewChild('tabla') tabla!: GenericTableComponent;\n\n  constructor(public roleService: RoleService,\n    private router: Router,\n    private route: ActivatedRoute,\n    private alertService: AlertService,\n    private toastService: ToastService) { }\n\n  ngOnInit() {\n    this.columns = [\n      {\n        attribute: 'description',\n        header: 'Descripcion',\n        title: true\n      },\n      {\n        attribute: 'canApprove',\n        header: 'Puede Aprobar',\n        type: 'bool'\n      },\n      {\n        attribute: 'canSuper',\n        header: 'Es Administrador',\n        type: 'bool'\n      },\n      {\n        attribute: 'active',\n        header: 'Esta Activo',\n        type: 'bool'\n      },\n      {\n        attribute: 'createdDate',\n        header: 'Creado el',\n        type: 'date'\n      },\n      {\n        attribute: 'updatedDate',\n        header: 'Modificado el',\n        type: 'date'\n      },\n      {\n        attribute: '_id',\n        header: \"Opciones\",\n        template: \"opciones\"\n      }\n    ]\n  }\n\n  onAdd() {\n    this.router.navigate(['add'], { relativeTo: this.route });\n  }\n\n  onEdit(current: any) {\n    this.router.navigate([current._id], { relativeTo: this.route });\n  }\n\n  async onDelete(current: any) {\n    this.alertService.show('Confirmar Eliminacion', '¿Esta Seguro que desea eliminar este usuario?', 'success', () => {\n      this.roleService.remove(current._id).subscribe((response: Role) => {\n        this.toastService.show(\"Eliminado Correctamente\", \"El usuario fue eliminado correctamente\", \"success\");\n        this.tabla.refresh();\n      }, (err) => {\n        console.log({ err });\n\n        this.toastService.show(\"Error\", err, \"error\");\n\n      });\n    });\n  }\n}\n","<app-header titulo=\"Roles\" [backButton]=\"true\"></app-header>\n<ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n    <ion-fab-button (click)=\"onAdd()\">\n        <ion-icon name=\"add\"></ion-icon>\n    </ion-fab-button>\n</ion-fab>\n<ion-content class=\"ion-padding\">\n    <ng-template #templateOpciones let-column=\"column\" let-item=\"item\" let-i=\"i\">\n        <ion-button  (click)=\"onEdit(item)\" fill=\"clear\" shape=\"round\">\n            <ion-icon name=\"create-outline\"></ion-icon> Editar\n        </ion-button>\n        <ion-button  (click)=\"onDelete(item)\" fill=\"clear\" shape=\"round\" color=\"danger\">\n            <ion-icon name=\"trash-outline\"></ion-icon> Eliminar\n        </ion-button>\n    </ng-template>\n\n    <app-generic-table #tabla [service]=\"roleService\" [templates]=\"{opciones: templateOpciones}\" [serviceMethod]=\"'list'\" [columns]=\"columns\" [btnAdd]=\"true\">\n    </app-generic-table>\n</ion-content>"],"sourceRoot":"webpack:///"}