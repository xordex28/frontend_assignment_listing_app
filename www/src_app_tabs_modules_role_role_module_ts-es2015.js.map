{"version":3,"sources":["./src/app/tabs/modules/role/role-edit/role-edit.component.ts","./src/app/tabs/modules/role/role-edit/role-edit.component.html","./src/app/tabs/modules/role/role-routing.module.ts","./src/app/tabs/modules/role/role.module.ts","./src/app/tabs/modules/role/role.page.ts","./src/app/tabs/modules/role/role.page.html"],"names":[],"mappings":"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","file":"src_app_tabs_modules_role_role_module_ts-es2015.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { RoleService } from '../../../../services/role.service';\nimport { Role } from '../../../../models/models';\nimport { ToastService } from '../../../../utils/services/toast.service';\nimport { LoadingService } from '../../../../utils/services/loading.service';\n\n\n@Component({\n  selector: 'app-role-edit',\n  templateUrl: './role-edit.component.html',\n  styleUrls: ['./role-edit.component.scss'],\n})\nexport class RoleEditComponent implements OnInit {\n\n  newRole: FormGroup;\n  id: string = '';\n  constructor(private fb: FormBuilder,\n    private route: ActivatedRoute,\n    private roleService: RoleService,\n    private toastService: ToastService,\n    private loadingService: LoadingService,\n    private router: Router) {\n\n  }\n\n  ngOnInit() {\n    this.newRole = this.fb.group({\n      description: ['', Validators.required],\n      canApprove: [false, Validators.required],\n      active: [true, Validators.required]\n    })\n    this.route.params.subscribe((params) => {\n      if ('id' in params) {\n        console.log(params);\n        this.id = params.id;\n        this.roleService.get(this.id).subscribe((currentRole: Role) => {\n          this.newRole.controls.description.setValue(currentRole.description);\n          this.newRole.controls.canApprove.setValue(currentRole.canApprove);\n          this.newRole.controls.active.setValue(currentRole.active);\n        });\n      }\n    });\n\n  }\n\n  async onSubmit() {\n    await this.loadingService.presentLoading('Guardando...')\n    const roleBody = this.newRole.value;\n    if (this.id) {\n      this.roleService.update(this.id, roleBody).subscribe((response: Role) => {\n        console.log({ response });\n        this.loadingService.close();\n        this.toastService.show('Guardado Correctamente', 'Se modifico correctamente', 'success');\n        this.router.navigateByUrl('/app/role');\n      }, (err) => {\n        console.log({ err });\n        this.loadingService.close();\n        this.toastService.show('Error', 'No se pudo guardar', 'error');\n      });\n    } else {\n      this.roleService.add(roleBody).subscribe((response: Role) => {\n        console.log({ response });\n        this.loadingService.close();\n        this.toastService.show('Guardado Correctamente', 'Se ha guardado correctamente', 'success');\n        this.router.navigateByUrl('/app/role');\n\n      }, (err) => {\n        console.log({ err });\n        this.loadingService.close();\n        this.toastService.show('Error', 'No se pudo guardar', 'error');\n      });\n    }\n  }\n}\n","<app-header [titulo]=\"id?'Editar Rol':'Crear Rol'\" [backButton]=\"true\"></app-header>\n<ion-content class=\"ion-padding\">\n  <form [formGroup]=\"newRole\">\n    <ion-grid>\n      <ion-row>\n        <ion-col size-xs=\"12\" size-md=\"6\" size-lg=\"4\" size-xl=\"8\" offset-xl=\"2\">\n          <ion-item>\n            <mat-form-field  style=\"width: 100%; background-color: white;\"  appearance=\"fill\">\n              <mat-label>Descripcion:</mat-label>\n              <input matInput placeholder=\"Administrador\" required formControlName=\"description\">\n            </mat-form-field>\n\n          </ion-item>\n        </ion-col>\n        <ion-col size-xs=\"12\" size-md=\"6\" size-lg=\"4\" size-xl=\"8\" offset-xl=\"2\">\n          <ion-item>\n            <ion-label>Aprobar</ion-label>\n            <ion-text color=\"danger\">*</ion-text>\n            <ion-checkbox formControlName=\"canApprove\" slot=\"start\"></ion-checkbox>\n          </ion-item>\n        </ion-col>\n        <ion-col size-xs=\"12\" size-md=\"6\" size-lg=\"4\" size-xl=\"8\" offset-xl=\"2\">\n          <ion-item>\n            <ion-label>Activo</ion-label>\n            <ion-text color=\"danger\">*</ion-text>\n            <ion-checkbox formControlName=\"active\" slot=\"start\"></ion-checkbox>\n          </ion-item>\n        </ion-col>\n      </ion-row>\n      <ion-row>\n        <ion-col size=\"12\">\n          <ion-button [disabled]=\"!newRole.valid\" (click)=\"onSubmit()\" expand=\"block\" fill=\"clear\" shape=\"round\">\n            Guardar\n          </ion-button>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </form>\n</ion-content>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { RoleEditComponent } from './role-edit/role-edit.component';\n\nimport { RolePage } from './role.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    children: [\n      {\n        path: '',\n        component: RolePage\n      },\n      {\n        path: 'add',\n        component: RoleEditComponent\n      },\n      {\n        path: ':id',\n        component: RoleEditComponent\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RolePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RolePageRoutingModule } from './role-routing.module';\n\nimport { RolePage } from './role.page';\nimport { UtilsModule } from '../../../utils/utils.module';\nimport { RoleEditComponent } from './role-edit/role-edit.component';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatFormFieldModule } from '@angular/material/form-field';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RolePageRoutingModule,\n    UtilsModule,\n    MatInputModule,\n    MatFormFieldModule\n  ],\n  declarations: [RolePage, RoleEditComponent]\n})\nexport class RolePageModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { RoleService } from 'src/app/services/role.service';\nimport { DTColumn } from '../../../utils/generic-table/format/interface';\n\n@Component({\n  selector: 'app-role',\n  templateUrl: './role.page.html',\n  styleUrls: ['./role.page.scss'],\n})\nexport class RolePage implements OnInit {\n  columns: DTColumn[] = [];\n\n  constructor(public roleService: RoleService, private router: Router, private route: ActivatedRoute,) { }\n\n  ngOnInit() {\n    this.columns = [\n      {\n        attribute: 'description',\n        header: 'Descripcion',\n        title: true\n      },\n      {\n        attribute: 'canApprove',\n        header: 'Puede Aprobar',\n        type:'bool'\n      },\n      {\n        attribute: 'canSuper',\n        header: 'Es Administrador',\n        type:'bool'\n      },\n      {\n        attribute: 'active',\n        header: 'Esta Activo',\n        type:'bool'\n      },\n      {\n        attribute: 'createdDate',\n        header: 'Creado el',\n        type: 'date'\n      },\n      {\n        attribute: 'updatedDate',\n        header: 'Modificado el',\n        type: 'date'\n      },\n    ]\n  }\n\n  onAdd() {\n    this.router.navigate(['add'], { relativeTo: this.route });\n  }\n}\n","<app-header titulo=\"Roles\" [backButton]=\"true\"></app-header>\n<ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n    <ion-fab-button (click)=\"onAdd()\">\n        <ion-icon name=\"add\"></ion-icon>\n    </ion-fab-button>\n</ion-fab>\n<ion-content class=\"ion-padding\">\n    <app-generic-table [service]=\"roleService\" [serviceMethod]=\"'list'\" [columns]=\"columns\" [btnAdd]=\"true\">\n    </app-generic-table>\n</ion-content>"],"sourceRoot":"webpack:///"}