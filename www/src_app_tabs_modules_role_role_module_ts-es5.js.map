{"version":3,"sources":["webpack:///src/app/tabs/modules/role/role-edit/role-edit.component.ts","webpack:///src/app/tabs/modules/role/role-edit/role-edit.component.html","webpack:///src/app/tabs/modules/role/role-routing.module.ts","webpack:///src/app/tabs/modules/role/role.module.ts","webpack:///src/app/tabs/modules/role/role.page.ts","webpack:///src/app/tabs/modules/role/role.page.html"],"names":["RoleEditComponent","fb","route","roleService","toastService","loadingService","router","id","newRole","group","description","Validators","canApprove","active","params","subscribe","console","log","get","currentRole","controls","setValue","presentLoading","roleBody","value","update","response","close","show","navigateByUrl","err","add","onSubmit","routes","path","children","component","RolePage","RolePageRoutingModule","RouterModule","RolePageModule","CommonModule","FormsModule","ReactiveFormsModule","IonicModule","UtilsModule","MatInputModule","MatFormFieldModule","columns","attribute","header","title","type","navigate","relativeTo","onAdd"],"mappings":"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","file":"src_app_tabs_modules_role_role_module_ts-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { RoleService } from '../../../../services/role.service';\nimport { Role } from '../../../../models/models';\nimport { ToastService } from '../../../../utils/services/toast.service';\nimport { LoadingService } from '../../../../utils/services/loading.service';\n\n\n@Component({\n  selector: 'app-role-edit',\n  templateUrl: './role-edit.component.html',\n  styleUrls: ['./role-edit.component.scss'],\n})\nexport class RoleEditComponent implements OnInit {\n\n  newRole: FormGroup;\n  id: string = '';\n  constructor(private fb: FormBuilder,\n    private route: ActivatedRoute,\n    private roleService: RoleService,\n    private toastService: ToastService,\n    private loadingService: LoadingService,\n    private router: Router) {\n\n  }\n\n  ngOnInit() {\n    this.newRole = this.fb.group({\n      description: ['', Validators.required],\n      canApprove: [false, Validators.required],\n      active: [true, Validators.required]\n    })\n    this.route.params.subscribe((params) => {\n      if ('id' in params) {\n        console.log(params);\n        this.id = params.id;\n        this.roleService.get(this.id).subscribe((currentRole: Role) => {\n          this.newRole.controls.description.setValue(currentRole.description);\n          this.newRole.controls.canApprove.setValue(currentRole.canApprove);\n          this.newRole.controls.active.setValue(currentRole.active);\n        });\n      }\n    });\n\n  }\n\n  async onSubmit() {\n    await this.loadingService.presentLoading('Guardando...')\n    const roleBody = this.newRole.value;\n    if (this.id) {\n      this.roleService.update(this.id, roleBody).subscribe((response: Role) => {\n        console.log({ response });\n        this.loadingService.close();\n        this.toastService.show('Guardado Correctamente', 'Se modifico correctamente', 'success');\n        this.router.navigateByUrl('/app/role');\n      }, (err) => {\n        console.log({ err });\n        this.loadingService.close();\n        this.toastService.show('Error', 'No se pudo guardar', 'error');\n      });\n    } else {\n      this.roleService.add(roleBody).subscribe((response: Role) => {\n        console.log({ response });\n        this.loadingService.close();\n        this.toastService.show('Guardado Correctamente', 'Se ha guardado correctamente', 'success');\n        this.router.navigateByUrl('/app/role');\n\n      }, (err) => {\n        console.log({ err });\n        this.loadingService.close();\n        this.toastService.show('Error', 'No se pudo guardar', 'error');\n      });\n    }\n  }\n}\n","<app-header [titulo]=\"id?'Editar Rol':'Crear Rol'\" [backButton]=\"true\"></app-header>\n<ion-content class=\"ion-padding\">\n  <form [formGroup]=\"newRole\">\n    <ion-grid>\n      <ion-row>\n        <ion-col size-xs=\"12\" size-md=\"6\" size-lg=\"4\" size-xl=\"8\" offset-xl=\"2\">\n          <ion-item>\n            <mat-form-field  style=\"width: 100%; background-color: white;\"  appearance=\"fill\">\n              <mat-label>Descripcion:</mat-label>\n              <input matInput placeholder=\"Administrador\" required formControlName=\"description\">\n            </mat-form-field>\n\n          </ion-item>\n        </ion-col>\n        <ion-col size-xs=\"12\" size-md=\"6\" size-lg=\"4\" size-xl=\"8\" offset-xl=\"2\">\n          <ion-item>\n            <ion-label>Aprobar</ion-label>\n            <ion-text color=\"danger\">*</ion-text>\n            <ion-checkbox formControlName=\"canApprove\" slot=\"start\"></ion-checkbox>\n          </ion-item>\n        </ion-col>\n        <ion-col size-xs=\"12\" size-md=\"6\" size-lg=\"4\" size-xl=\"8\" offset-xl=\"2\">\n          <ion-item>\n            <ion-label>Activo</ion-label>\n            <ion-text color=\"danger\">*</ion-text>\n            <ion-checkbox formControlName=\"active\" slot=\"start\"></ion-checkbox>\n          </ion-item>\n        </ion-col>\n      </ion-row>\n      <ion-row>\n        <ion-col size=\"12\">\n          <ion-button [disabled]=\"!newRole.valid\" (click)=\"onSubmit()\" expand=\"block\" fill=\"clear\" shape=\"round\">\n            Guardar\n          </ion-button>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </form>\n</ion-content>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { RoleEditComponent } from './role-edit/role-edit.component';\n\nimport { RolePage } from './role.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    children: [\n      {\n        path: '',\n        component: RolePage\n      },\n      {\n        path: 'add',\n        component: RoleEditComponent\n      },\n      {\n        path: ':id',\n        component: RoleEditComponent\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RolePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RolePageRoutingModule } from './role-routing.module';\n\nimport { RolePage } from './role.page';\nimport { UtilsModule } from '../../../utils/utils.module';\nimport { RoleEditComponent } from './role-edit/role-edit.component';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatFormFieldModule } from '@angular/material/form-field';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RolePageRoutingModule,\n    UtilsModule,\n    MatInputModule,\n    MatFormFieldModule\n  ],\n  declarations: [RolePage, RoleEditComponent]\n})\nexport class RolePageModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { RoleService } from 'src/app/services/role.service';\nimport { DTColumn } from '../../../utils/generic-table/format/interface';\n\n@Component({\n  selector: 'app-role',\n  templateUrl: './role.page.html',\n  styleUrls: ['./role.page.scss'],\n})\nexport class RolePage implements OnInit {\n  columns: DTColumn[] = [];\n\n  constructor(public roleService: RoleService, private router: Router, private route: ActivatedRoute,) { }\n\n  ngOnInit() {\n    this.columns = [\n      {\n        attribute: 'description',\n        header: 'Descripcion',\n        title: true\n      },\n      {\n        attribute: 'canApprove',\n        header: 'Puede Aprobar',\n        type:'bool'\n      },\n      {\n        attribute: 'canSuper',\n        header: 'Es Administrador',\n        type:'bool'\n      },\n      {\n        attribute: 'active',\n        header: 'Esta Activo',\n        type:'bool'\n      },\n      {\n        attribute: 'createdDate',\n        header: 'Creado el',\n        type: 'date'\n      },\n      {\n        attribute: 'updatedDate',\n        header: 'Modificado el',\n        type: 'date'\n      },\n    ]\n  }\n\n  onAdd() {\n    this.router.navigate(['add'], { relativeTo: this.route });\n  }\n}\n","<app-header titulo=\"Roles\" [backButton]=\"true\"></app-header>\n<ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n    <ion-fab-button (click)=\"onAdd()\">\n        <ion-icon name=\"add\"></ion-icon>\n    </ion-fab-button>\n</ion-fab>\n<ion-content class=\"ion-padding\">\n    <app-generic-table [service]=\"roleService\" [serviceMethod]=\"'list'\" [columns]=\"columns\" [btnAdd]=\"true\">\n    </app-generic-table>\n</ion-content>"]}